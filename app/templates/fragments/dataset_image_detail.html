<div class="space-y-4">
  <div class="flex items-start justify-between gap-4">
    <div>
      <h2 class="text-lg font-semibold text-slate-900 dark:text-slate-100">{{ image.filename }}</h2>
      <p class="text-sm text-slate-600 dark:text-slate-400">{{ image.width }}×{{ image.height }}</p>
    </div>
    <button
      type="button"
      @click="detailOpen = false"
      class="rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-700 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800"
    >
      Close
    </button>
  </div>

  <div class="overflow-hidden rounded-lg border border-slate-200 bg-slate-100 dark:border-slate-700 dark:bg-slate-950">
    <img
      src="/api/datasets/{{ project_id }}/images/{{ image.filename }}"
      alt="{{ image.filename }}"
      class="max-h-[26rem] w-full object-contain"
    >
  </div>

  <dl class="grid grid-cols-1 gap-3 text-sm sm:grid-cols-2">
    <div class="rounded-md border border-slate-200 p-3 dark:border-slate-700">
      <dt class="text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400">Filename</dt>
      <dd class="mt-1 font-medium text-slate-900 dark:text-slate-100">{{ image.filename }}</dd>
    </div>
    <div class="rounded-md border border-slate-200 p-3 dark:border-slate-700">
      <dt class="text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400">Dimensions</dt>
      <dd class="mt-1 font-medium text-slate-900 dark:text-slate-100">{{ image.width }}×{{ image.height }}</dd>
    </div>
    <div class="rounded-md border border-slate-200 p-3 dark:border-slate-700">
      <dt class="text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400">Class</dt>
      <dd class="mt-1">
        {% if class_name %}
        <span
          class="inline-flex rounded-full px-2 py-0.5 text-xs font-medium {{ class_badge_map.get(class_name, 'bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-200') }}"
        >
          {{ class_name }}
        </span>
        {% else %}
        <span class="font-medium text-slate-900 dark:text-slate-100">n/a</span>
        {% endif %}
      </dd>
    </div>
    <div class="rounded-md border border-slate-200 p-3 dark:border-slate-700">
      <dt class="text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400">Annotations</dt>
      <dd class="mt-1 font-medium text-slate-900 dark:text-slate-100">{{ image.annotations | length }}</dd>
    </div>
  </dl>

  {% if split_assignments %}
  <div class="rounded-md border border-slate-200 p-3 dark:border-slate-700">
    <h3 class="text-sm font-semibold text-slate-900 dark:text-slate-100">Split Assignments</h3>
    <ul class="mt-2 space-y-1 text-sm">
      {% for assignment in split_assignments %}
      <li class="flex items-center justify-between gap-4">
        <span class="text-slate-500 dark:text-slate-400">{{ assignment.name }}</span>
        <span class="font-medium text-slate-900 dark:text-slate-100">{{ assignment.value }}</span>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>
